{"ast":null,"code":"var _jsxFileName = \"/Users/Philipp/code/phiele/cavelius-art/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport Navbar from \"./Navbar.js\";\nimport Home from \"./Home.js\";\nimport About from \"./About.js\";\nimport Products from \"./Products.js\";\nimport ProductDetails from \"./ProductDetails.js\";\nimport Cart from \"./Cart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [cart, setCart] = useState(function () {\n    let savedCart = [];\n\n    try {\n      savedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    } catch (error) {\n      savedCart = [];\n    }\n\n    return savedCart;\n  });\n  useEffect(() => {\n    if (cart) {\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n  }, [cart]);\n\n  function handleProductDelete(id) {\n    const updatedCart = cart.filter(product => product.id !== id);\n    setCart(updatedCart);\n  }\n\n  function handleProductMinus(existingProduct) {\n    if (existingProduct.quantity > 1) {\n      // decrease quantity\n      const updatedCart = cart.map(product => {\n        if (product.id === existingProduct.id) {\n          return { ...product,\n            quantity: product.quantity - 1\n          };\n        }\n\n        return product;\n      });\n      setCart(updatedCart);\n    } else {\n      // product is new to the cart\n      handleProductDelete(existingProduct.id);\n    }\n  }\n\n  function handleProductPlus(newProduct) {\n    // check if item exists\n    const existingProduct = cart.find(product => product.id === newProduct.id);\n\n    if (existingProduct) {\n      // increase quantity\n      const updatedCart = cart.map(product => {\n        if (product.id === newProduct.id) {\n          return { ...product,\n            quantity: product.quantity + 1\n          };\n        }\n\n        return product;\n      });\n      setCart(updatedCart);\n    } else {\n      // product is new to the cart\n      setCart([...cart, { ...newProduct,\n        quantity: 1\n      }]);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(HashRouter, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      cart: cart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/about\",\n          children: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/products\",\n          children: /*#__PURE__*/_jsxDEV(Products, {\n            cart: cart,\n            onProductPlus: handleProductPlus,\n            onProductDelete: handleProductDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/products/:id\",\n          children: /*#__PURE__*/_jsxDEV(ProductDetails, {\n            onProductPlus: handleProductPlus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/cart\",\n          children: /*#__PURE__*/_jsxDEV(Cart, {\n            cart: cart,\n            onProductPlus: handleProductPlus,\n            onProductMinus: handleProductMinus,\n            onProductDelete: handleProductDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"aROKnvJhN30rKLAJcgQtcOXCC+E=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/Philipp/code/phiele/cavelius-art/src/App.js"],"names":["useState","useEffect","HashRouter","Switch","Route","Navbar","Home","About","Products","ProductDetails","Cart","App","cart","setCart","savedCart","JSON","parse","localStorage","getItem","error","setItem","stringify","handleProductDelete","id","updatedCart","filter","product","handleProductMinus","existingProduct","quantity","map","handleProductPlus","newProduct","find"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport Navbar from \"./Navbar.js\";\nimport Home from \"./Home.js\";\nimport About from \"./About.js\";\nimport Products from \"./Products.js\";\nimport ProductDetails from \"./ProductDetails.js\";\nimport Cart from \"./Cart.js\";\n\nfunction App() {\n  const [cart, setCart] = useState(function () {\n    let savedCart = [];\n    try {\n      savedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    } catch (error) {\n      savedCart = [];\n    }\n    return savedCart;\n  });\n\n  useEffect(() => {\n    if (cart) {\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n  }, [cart]);\n\n  function handleProductDelete(id) {\n    const updatedCart = cart.filter((product) => product.id !== id);\n    setCart(updatedCart);\n  }\n\n  function handleProductMinus(existingProduct) {\n    if (existingProduct.quantity > 1) {\n      // decrease quantity\n      const updatedCart = cart.map((product) => {\n        if (product.id === existingProduct.id) {\n          return {\n            ...product,\n            quantity: product.quantity - 1,\n          };\n        }\n        return product;\n      });\n      setCart(updatedCart);\n    } else {\n      // product is new to the cart\n      handleProductDelete(existingProduct.id)\n    }\n  }\n\n  function handleProductPlus(newProduct) {\n    // check if item exists\n    const existingProduct = cart.find(\n      (product) => product.id === newProduct.id\n    );\n    if (existingProduct) {\n      // increase quantity\n      const updatedCart = cart.map((product) => {\n        if (product.id === newProduct.id) {\n          return {\n            ...product,\n            quantity: product.quantity + 1,\n          };\n        }\n        return product;\n      });\n      setCart(updatedCart);\n    } else {\n      // product is new to the cart\n      setCart([\n        ...cart,\n        {\n          ...newProduct,\n          quantity: 1,\n        },\n      ]);\n    }\n  }\n\n  return (\n    <HashRouter>\n      <Navbar cart={cart} />\n      <div className=\"container\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/about\">\n            <About />\n          </Route>\n          <Route exact path=\"/products\">\n            <Products\n              cart={cart}\n              onProductPlus={handleProductPlus}\n              onProductDelete={handleProductDelete}\n            />\n          </Route>\n          <Route path=\"/products/:id\">\n            <ProductDetails onProductPlus={handleProductPlus} />\n          </Route>\n          <Route exact path=\"/cart\">\n            <Cart\n              cart={cart}\n              onProductPlus={handleProductPlus}\n              onProductMinus={handleProductMinus}\n              onProductDelete={handleProductDelete}\n            />\n          </Route>\n        </Switch>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}