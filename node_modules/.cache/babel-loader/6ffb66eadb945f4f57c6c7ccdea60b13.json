{"ast":null,"code":"import _toConsumableArray from\"/Users/Philipp/code/phiele/cavelius-art/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/Philipp/code/phiele/cavelius-art/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Philipp/code/phiele/cavelius-art/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{HashRouter,Switch,Route}from\"react-router-dom\";import Navbar from\"./Navbar.js\";import Home from\"./Home.js\";import About from\"./About.js\";import Products from\"./Products.js\";import ProductDetails from\"./ProductDetails.js\";import Cart from\"./Cart.js\";import useFetch from\"./useFetch.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useFetch=useFetch(\"https://cavelius-art-api.herokuapp.com/api/v1/\"),get=_useFetch.get;// fetch products from rails API\nvar getAPIdata=function getAPIdata(request){get(request).then(function(data){// console.log(data)\nsetProducts(data);}).catch(function(error){return console.log(\"Could not load \".concat(request),error);}).finally(function(){console.log(\"\".concat(request,\" loaded\"));});};useEffect(function(){getAPIdata(\"products.json\");},[]);// save cart items to local storage\nvar _useState3=useState(function(){var savedCart=[];try{savedCart=JSON.parse(localStorage.getItem(\"cart\"))||[];}catch(error){savedCart=[];}return savedCart;}),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];useEffect(function(){if(cart){localStorage.setItem(\"cart\",JSON.stringify(cart));}},[cart]);// handle products in cart\nfunction handleProductDelete(id){var updatedCart=cart.filter(function(product){return product.id!==id;});setCart(updatedCart);}function handleProductMinus(existingProduct){if(existingProduct.quantity>1){// decrease quantity\nvar updatedCart=cart.map(function(product){if(product.id===existingProduct.id){return _objectSpread(_objectSpread({},product),{},{quantity:product.quantity-1});}return product;});setCart(updatedCart);}else{// product is new to the cart\nhandleProductDelete(existingProduct.id);}}function handleProductPlus(newProduct){// check if item exists\nvar existingProduct=cart.find(function(product){return product.id===newProduct.id;});if(existingProduct){// increase quantity\nvar updatedCart=cart.map(function(product){if(product.id===newProduct.id){return _objectSpread(_objectSpread({},product),{},{quantity:product.quantity+1});}return product;});setCart(updatedCart);}else{// product is new to the cart\nsetCart([].concat(_toConsumableArray(cart),[_objectSpread(_objectSpread({},newProduct),{},{quantity:1})]));}}return/*#__PURE__*/_jsxs(HashRouter,{children:[/*#__PURE__*/_jsx(Navbar,{cart:cart}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/about\",children:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/products\",children:/*#__PURE__*/_jsx(Products,{products:products,cart:cart,onProductPlus:handleProductPlus,onProductDelete:handleProductDelete})}),/*#__PURE__*/_jsx(Route,{path:\"/products/:id\",children:/*#__PURE__*/_jsx(ProductDetails,{products:products,onProductPlus:handleProductPlus})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/cart\",children:/*#__PURE__*/_jsx(Cart,{cart:cart,onProductPlus:handleProductPlus,onProductMinus:handleProductMinus,onProductDelete:handleProductDelete})})]})})]});}export default App;","map":{"version":3,"sources":["/Users/Philipp/code/phiele/cavelius-art/src/App.js"],"names":["useState","useEffect","HashRouter","Switch","Route","Navbar","Home","About","Products","ProductDetails","Cart","useFetch","App","products","setProducts","get","getAPIdata","request","then","data","catch","error","console","log","finally","savedCart","JSON","parse","localStorage","getItem","cart","setCart","setItem","stringify","handleProductDelete","id","updatedCart","filter","product","handleProductMinus","existingProduct","quantity","map","handleProductPlus","newProduct","find"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport Navbar from \"./Navbar.js\";\nimport Home from \"./Home.js\";\nimport About from \"./About.js\";\nimport Products from \"./Products.js\";\nimport ProductDetails from \"./ProductDetails.js\";\nimport Cart from \"./Cart.js\";\nimport useFetch from \"./useFetch.js\";\n\nfunction App() {\n  const [products, setProducts] = useState([]);\n  const { get } = useFetch(\n    \"https://cavelius-art-api.herokuapp.com/api/v1/\"\n  );\n\n  // fetch products from rails API\n  const getAPIdata = (request) => {\n    get(request)\n      .then((data) => {\n        // console.log(data)\n        setProducts(data);\n      })\n      .catch((error) => console.log(`Could not load ${request}`, error))\n      .finally(() => {console.log(`${request} loaded`)});\n  }\n\n  useEffect(() => {\n    getAPIdata(\"products.json\")\n  }, []);\n\n  // save cart items to local storage\n  const [cart, setCart] = useState(function () {\n    let savedCart = [];\n    try {\n      savedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    } catch (error) {\n      savedCart = [];\n    }\n    return savedCart;\n  });\n\n  useEffect(() => {\n    if (cart) {\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n  }, [cart]);\n\n  // handle products in cart\n  function handleProductDelete(id) {\n    const updatedCart = cart.filter((product) => product.id !== id);\n    setCart(updatedCart);\n  }\n\n  function handleProductMinus(existingProduct) {\n    if (existingProduct.quantity > 1) {\n      // decrease quantity\n      const updatedCart = cart.map((product) => {\n        if (product.id === existingProduct.id) {\n          return {\n            ...product,\n            quantity: product.quantity - 1,\n          };\n        }\n        return product;\n      });\n      setCart(updatedCart);\n    } else {\n      // product is new to the cart\n      handleProductDelete(existingProduct.id)\n    }\n  }\n\n  function handleProductPlus(newProduct) {\n    // check if item exists\n    const existingProduct = cart.find(\n      (product) => product.id === newProduct.id\n    );\n    if (existingProduct) {\n      // increase quantity\n      const updatedCart = cart.map((product) => {\n        if (product.id === newProduct.id) {\n          return {\n            ...product,\n            quantity: product.quantity + 1,\n          };\n        }\n        return product;\n      });\n      setCart(updatedCart);\n    } else {\n      // product is new to the cart\n      setCart([\n        ...cart,\n        {\n          ...newProduct,\n          quantity: 1,\n        },\n      ]);\n    }\n  }\n\n\n  return (\n    <HashRouter>\n      <Navbar cart={cart} />\n      <div className=\"container\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/about\">\n            <About />\n          </Route>\n          <Route exact path=\"/products\">\n            <Products\n              products={products}\n              cart={cart}\n              onProductPlus={handleProductPlus}\n              onProductDelete={handleProductDelete}\n            />\n          </Route>\n          <Route path=\"/products/:id\">\n            <ProductDetails\n              products={products}\n              onProductPlus={handleProductPlus}\n            />\n          </Route>\n          <Route exact path=\"/cart\">\n            <Cart\n              cart={cart}\n              onProductPlus={handleProductPlus}\n              onProductMinus={handleProductMinus}\n              onProductDelete={handleProductDelete}\n            />\n          </Route>\n        </Switch>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}